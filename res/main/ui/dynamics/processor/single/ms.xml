<plugin resizable="true">
	<vbox spacing="4">
		<grid rows="2" cols="7" transpose="true" hspacing="2" vspacing="2" expand="true">
			<!-- Time graph -->
			<graph width.min="640" height.min="256" expand="true">
				<origin hpos="1" vpos="-1" visible="false" />
				
				<!-- Gray grid -->
				<ui:for id="t" first="0" last="4" step="1">
					<ui:attributes ox="0" oy="1">
						<marker v="${t}.25" color="graph_alt_2" />
						<marker v="${t}.5" color="graph_alt_1" />
						<marker v="${t}.75" color="graph_alt_2" />
					</ui:attributes>
				</ui:for>
			
				<ui:attributes ox="1" oy="0" color="graph_alt_1">
					<marker v="+12 db" />
					<marker v="-12 db" />
					<marker v="-36 db" />
					<marker v="-60 db" />
				</ui:attributes>

				<!-- Yellow grid -->
				<ui:for id="t" first="1" last="4" step="1">
					<marker v="${t}" ox="0" oy="1" color="graph_sec" />
				</ui:for>

				<ui:attributes ox="1" oy="0" color="graph_sec">
					<marker v="0 db" />
					<marker v="-24 db" />
					<marker v="-48 db" />
				</ui:attributes>

				<!-- Meshes -->
				<mesh id="isg_m" width="2" color="mid_channel_in" visibility=":ilv_m" />
				<mesh id="isg_s" width="2" color="side_channel_in" visibility=":ilv_s" />
				<mesh id="osg_m" width="2" color="mid_channel" visibility=":olv_m" />
				<mesh id="osg_s" width="2" color="side_channel" visibility=":olv_s" />
				<mesh id="scg_m" width="2" color="bright_green" visibility=":slv_m" />
				<mesh id="scg_s" width="2" color="bright_green" visibility=":slv_s" />
				<mesh id="evg_m" width="2" color="bright_magenta" visibility=":elv_m" />
				<mesh id="evg_s" width="2" color="bright_magenta" visibility=":elv_s" />
				<mesh id="grg_m" width="2" color="bright_blue" visibility=":grv_m" />
				<mesh id="grg_s" width="2" color="bright_blue" visibility=":grv_s" />
				
				<!-- Boundaries -->
				<marker v="24 db" ox="1" oy="0" color="graph_prim" />
				<marker v="5" ox="0" oy="1" color="graph_prim" />
				
				<!-- Axis -->
				<axis min="0" max="5" angle="1.0" log="false" color="graph_prim" />
				<axis min="-72 db" max="24 db" angle="0.5" log="true" color="graph_prim" />
				
				<!-- Text -->
				<text x="5" y="-72 db" text="graph.units.s" halign="1" valign="1" color="graph_prim" />
				<ui:for id="t" first="0" last="4" step="1">
					<text x="${t}" y="-72 db" text="${t}" halign="-1" valign="1" color="graph_prim" />
					<text x="${t}.5" y="-72 db" text="${t}.5" halign="-1" valign="1" color="graph_prim" />
				</ui:for>
				<ui:attributes x="5" halign="1" valign="1" color="graph_prim">
					<text y="12 db" text="+12" />
					<text y="0 db" text="0" />
					<text y="-12 db" text="-12" />
					<text y="-24 db" text="-24" />
					<text y="-36 db" text="-36" />
					<text y="-48 db" text="-48" />
					<text y="-60 db" text="-60" />
					<text x="5" y="24 db" text="graph.units.db" valign="-1" />
				</ui:attributes>
				
				<!-- Markers -->
				<ui:attributes ox="1" oy="0">
					<marker id="al_m" color="g_magenta" />
					<marker id="al_s" color="g_blue" />
					<marker id="rl_m" color="g_magenta" />
					<marker id="rl_s" color="g_blue" />
				</ui:attributes>
			</graph>
			<!-- Graph buttons -->
			<hbox spacing="4">
				<button id="pause" size="16" color="green" led="true" />
				<label text="labels.pause" />
				<button id="clear" size="16" color="red" led="true" />
				<label text="labels.clear" />
				<button id="msl" size="16" color="yellow" led="true" />
				<label text="labels.ms_listen" />
				<align pad_right="4" expand="true" hpos="1">
					<label text="labels.graphs.time" />
				</align>
			</hbox>
			
			<!-- Sidechain meters -->
			<vbox>
				<grid rows="2" cols="2">
					<label text="labels.chan.M_id" font_size="8" />
					<label text="labels.chan.S_ide" font_size="8" />
					<button id="slv_m" size="10" color="bright_green" led="true" />
					<button id="slv_s" size="10" color="bright_green" led="true" />
				</grid>
				<ledmeter vexpand="true" height.min="256" angle="1">
					<ledchannel id="slm_m" min="-72 db" max="24 db" log="true" type="peak"
						activity=":slv_m" value.color="bright_green" />
					<ledchannel id="slm_s" min="-72 db" max="24 db" log="true" type="peak"
						activity=":slv_s" value.color="bright_green" />
				</ledmeter>
			</vbox>
			<label text="labels.sc.SC" />
		
			<!-- Envelope meters -->
			<vbox>
				<grid rows="2" cols="2">
					<label text="labels.chan.M_id" font_size="8" />
					<label text="labels.chan.S_ide" font_size="8" />
					<button id="elv_m" size="10" color="bright_magenta" led="true" />
					<button id="elv_s" size="10" color="bright_magenta" led="true" />
				</grid>
				<ledmeter vexpand="true" height.min="256" angle="1">
					<ledchannel id="elm_m" min="-72 db" max="24 db" log="true" type="peak"
						activity=":elv_m" value.color="bright_magenta" />
					<ledchannel id="elm_s" min="-72 db" max="24 db" log="true" type="peak"
						activity=":elv_s" value.color="bright_magenta" />
				</ledmeter>
			</vbox>
			<label text="labels.Env_elope" />
			
			<!-- Gain reduction meters -->
			<vbox>
				<grid rows="2" cols="2">
					<label text="labels.chan.M_id" font_size="8" />
					<label text="labels.chan.S_ide" font_size="8" />
					<button id="grv_m" size="10" color="bright_blue" led="true" />
					<button id="grv_s" size="10" color="bright_blue" led="true" />
				</grid>
				<ledmeter vexpand="true" height.min="256" angle="1">
					<ledchannel id="rlm_m" min="-48 db" max="48 db" log="true"
						balance="0 db" balance.visibility="true" type="peak"
						activity=":grv_m" value.color="bright_blue" />
					<ledchannel id="rlm_s" min="-48 db" max="48 db" log="true"
						balance="0 db" balance.visibility="true" type="peak"
						activity=":grv_s" value.color="bright_blue" />
				</ledmeter>
			</vbox>
			<label text="labels.gain_" />
		
			<!-- Curve graph -->
			<graph width.min="256" height.min="256" expand="true" fill="true">
				<origin hpos="-1" vpos="-1" visible="false" />
				
				<!-- Gray grid -->
				<ui:for id="g" first="-60" last="12" step="24">
					<marker v="${g} db" ox="0" oy="1" color="graph_alt_1" />
					<marker v="${g} db" ox="1" oy="0" color="graph_alt_1" />
				</ui:for>
				
				<!-- Yellow grid -->
				<ui:for id="g" first="-48" last="-24" step="24">
					<marker v="${g} db" ox="0" oy="1" color="graph_sec" />
					<marker v="${g} db" ox="1" oy="0" color="graph_sec" />
				</ui:for>
			
				<!-- Axes and boundaries -->
				<marker v="1" ox="1" oy="0" dv="1" dx=":_a_width" dy=":_a_height" color="graph_alt_1" width="2" smooth="true" />
				<marker v="24 db" ox="0" oy="1" color="graph_alt_1" />
				<marker v="24 db" ox="1" oy="0"  color="graph_alt_1" />
				<axis min="-72 db" max="24 db" color="graph_prim" angle="0.0" log="true" />
				<axis min="-72 db" max="24 db" color="graph_prim" angle="0.5" log="true" />

				<!-- 0 dB markers -->
				<marker v="0 db" ox="0" oy="1" width="2" color="graph_prim" />
				<marker v="0 db" ox="1" oy="0" width="2" color="graph_prim" />
				
				<!-- Meshes -->
				<mesh id="cmg_m" width="2" color="mid_channel" smooth="true" visibility=":cmv_m" />
				<mesh id="cmg_s" width="2" color="side_channel" smooth="true" visibility=":cmv_s" />
				<mesh id="ccg_m" width="3" color="mid_channel" smooth="true" visibility=":cmv_m" />
				<mesh id="ccg_s" width="3" color="side_channel" smooth="true" visibility=":cmv_s" />
				
				<!-- Markers -->
				<marker id="al_m" color="g_magenta" basis="0" parallel="1" />
				<marker id="al_s" color="g_blue" basis="0" parallel="1" />
				<marker id="rl_m" color="g_magenta" basis="0" parallel="1" />
				<marker id="rl_s" color="g_blue" basis="0" parallel="1" />
				<ui:for id="i" first="0" last="3">
					<marker id="al${i}_m" width="2" color="magenta" smooth="true" visibility=":cmv_m and :ae${i}_m" />
					<text x=":al${i}_m" y="24 db" text="graph.values.idM_id" text:id="${i}" color="magenta" halign="-1" valign="-1" visibility=":cmv_m and :ae${i}_m" />
					<marker id="al${i}_s" width="2" color="magenta" smooth="true" visibility=":cmv_s and :ae${i}_s" />
					<text x=":al${i}_s" y="24 db" text="graph.values.idS_ide" text:id="${i}" color="magenta" halign="1" valign="-1" visibility=":cmv_s and :ae${i}_s" />
				</ui:for>
				<ui:for id="i" first="0" last="3">
					<marker id="rl${i}_m" width="2" color="orange" smooth="true" visibility=":cmv_m and :re${i}_m" />
					<text x=":rl${i}_m" y="-72 db" text="graph.values.idM_id" text:id="${i}" color="orange" halign="-1" valign="1" visibility=":cmv_m and :re${i}_m" />
					<marker id="rl${i}_s" width="2" basis="0" color="orange" parallel="1" smooth="true" visibility=":cmv_s and :re${i}_s" />
					<text x=":rl${i}_s" y="-72 db" text="graph.values.idS_ide" text:id="${i}" color="orange" halign="1" valign="1" visibility=":cmv_s and :re${i}_s" />
				</ui:for>
				
				<!-- Dots -->
				<ui:for id="i" first="0" last="3">
					<dot x.id="tl${i}_m" y.id="gl${i}_m" z.id="kn${i}_m"
						x.editable="true" y.editable="true" z.editable="true"
						color="mid_channel" hover.color="mid_channel"
						bcolor="mid_channel" hover.bcolor="mid_channel"
						pointer="drag"
						visibility=":cmv_m and :pe${i}_m"
					/>
					<dot x.id="tl${i}_s" y.id="gl${i}_s" z.id="kn${i}_s"
						x.editable="true" y.editable="true" z.editable="true"
						color="side_channel" hover.color="side_channel"
						bcolor="side_channel" hover.bcolor="side_channel"
						pointer="drag"
						visibility=":cmv_s and :pe${i}_s"
					/>
				</ui:for>
				<ui:for id="i" first="0" last="3">
					<text x=":tl${i}_m" y=":gl${i}_m" text="graph.values.idM_id" text:id="${i}"
						color="mid_channel" halign="-1" valign="1" visibility=":cmv_m and :pe${i}_m" />
					<text x=":tl${i}_s" y=":gl${i}_s" text="graph.values.idS_ide" text:id="${i}"
						color="side_channel" halign="1" valign="-1" visibility=":cmv_s and :pe${i}_s" />
				</ui:for>
				
				<dot x.id="elm_m" y.id="clm_m" 
					color="mid_channel" hover.color="mid_channel"
					bcolor="mid_channel" hover.bcolor="mid_channel"
					visibility=":cmv_m"
				/>
				<dot x.id="elm_s" y.id="clm_s" 
					color="side_channel" hover.color="side_channel"
					bcolor="side_channel" hover.bcolor="side_channel"
					visibility=":cmv_s"
				/>
			
				<!-- Text -->
				<text x="0 db" y="0 db" text="0" halign="1" valign="1" />
				<ui:attributes x="0 db" halign="1" valign="-1">
					<text y="24 db" text="graph.units.db" />
					<text y="12 db" text="+12" />
					<text y="-12 db" text="-12" />
					<text y="-24 db" text="-24" />
					<text y="-36 db" text="-36" />
					<text y="-48 db" text="-48" />
					<text y="-60 db" text="-60" />
					<text y="-72 db" text="graph.axis.out" valign="1" />
				</ui:attributes>
				<ui:attributes y="0 db" halign="-1" valign="1">
					<text x="24 db" text="graph.units.db" />
					<text x="12 db" text="+12" />
					<text x="-12 db" text="-12" />
					<text x="-24 db" text="-24" />
					<text x="-36 db" text="-36" />
					<text x="-48 db" text="-48" />
					<text x="-60 db" text="-60" />
					<text x="-72 db" text="graph.axis.in" halign="1" />
				</ui:attributes>
			</graph>
			<hbox>
				<label text="labels.model:" />
				<button id="cmv_m" size="16" color="middle_channel" led="true" />
				<label text="labels.chan.middle" />
				<button id="cmv_s" size="16" color="side_channel" led="true" />
				<label text="labels.chan.side" />
				<align pad_right="4" expand="true" hpos="1">
					<label text="labels.graphs.curve" />
				</align>
			</hbox>
			
			<!-- Input signal meters -->
			<vbox>
				<grid rows="2" cols="2">
					<label text="labels.chan.M_id" font_size="8" />
					<label text="labels.chan.S_ide" font_size="8" />
					<button id="ilv_m" size="10" color="mid_channel" led="true" />
					<button id="ilv_s" size="10" color="side_channel" led="true" />
				</grid>
				<ledmeter vexpand="true" height.min="256" angle="1">
					<ledchannel id="ilm_m" min="-72 db" max="24 db" log="true" type="rms_peak"
						peak.visibility="true" 
						activity=":ilv_m" value.color="mid_channel" />
					<ledchannel id="ilm_s" min="-72 db" max="24 db" log="true" type="rms_peak"
						peak.visibility="true" 
						activity=":ilv_s" value.color="side_channel" />
				</ledmeter>
			</vbox>
			<label text="labels.chan.in" />
			
			<!-- Output signal meters -->
			<vbox>
				<grid rows="2" cols="2">
					<label text="labels.chan.M_id" font_size="8" />
					<label text="labels.chan.S_ide" font_size="8" />
					<button id="olv_m" size="10" color="mid_channel" led="true" />
					<button id="olv_s" size="10" color="side_channel" led="true" />
				</grid>
				<ledmeter vexpand="true" height.min="256" angle="1">
					<ledchannel id="olm_m" min="-72 db" max="24 db" log="true" type="rms_peak"
						peak.visibility="true" 
						activity=":olv_m" value.color="mid_channel" />
					<ledchannel id="olm_s" min="-72 db" max="24 db" log="true" type="rms_peak"
						peak.visibility="true" 
						activity=":olv_s" value.color="side_channel" />
				</ledmeter>
			</vbox>
			<label text="labels.chan.out" />
		</grid>
		<hbox spacing="4">
			<!-- Processors -->
			<cgroup id="psel">
				<ui:for id="p" first="0" last="1">
					<ui:set id="chn" value="${(:p mod 2) ? 'labels.chan.id_S_ide' : 'labels.chan.id_M_id'}" />
					<ui:set id="ch" value="${(:p mod 2) ? '_s' : '_m'}" />
					<ui:set id="chc" value="${(:p mod 2) ? 'side_channel' : 'middle_channel'}" />
					
					<hbox expand="true" fill="true">
						<!-- Sidechain -->
						<grid rows="5" cols="5" expand="true" fill="true" spacing="2">
							<cell cols="5">
								<align hpos="-1">
									<hbox fill="false" spacing="4">
										<button id="scl${ch}" size="16" color="${chc}" led="true" />
										<label text="labels.sc.listen" />
									</hbox>
								</align>
							</cell>
							
							<label text="labels.type" fill="true" halign="0" />
							<cell cols="4" fill="true">
								<align vpos="1" hscale="1">
									<vbox spacing="1" fill="true">
										<combo id="sct${ch}" fill="true" />
										<combo id="scm${ch}" fill="true" />
										<combo id="scs${ch}" fill="true" />
									</vbox>
								</align>
							</cell>
						
							<label text="labels.sc.preamp" />
							<label text="labels.sc.reactivity" />
							<label text="labels.sc.lookahead" />
							<label text="labels.flt.HPF" />
							<label text="labels.flt.LPF" />
							
							<knob id="scp${ch}" />
							<knob id="scr${ch}" />
							<knob id="sla${ch}" />
							<vbox>
								<combo id="shpm${ch}" />
								<knob id="shpf${ch}" size="20" bright="(:shpm${ch} igt 0) ? 1 : 0.5" />
							</vbox>
							<vbox>
								<combo id="slpm${ch}" />
								<knob id="slpf${ch}" size="20" bright="(:slpm${ch} igt 0) ? 1 : 0.5" />
							</vbox>
							
							<value id="scp${ch}" />
							<value id="scr${ch}" />
							<value id="sla${ch}" />
							<value id="shpf${ch}" bright="(:shpm${ch} igt 0) ? 1 : 0.5" />
							<value id="slpf${ch}" bright="(:slpm${ch} igt 0) ? 1 : 0.5" />
						</grid>
						
						<vsep />
						<grid rows="9" cols="1" expand="true" fill="true">
							<label text="labels.ratio_low" />
							<knob id="llr${ch}" size="20" scale_color="${chc}" />
							<value id="llr${ch}" />
							<label text="labels.attack" />
							<knob id="atd${ch}" size="20" scale_color="magenta" />
							<value id="atd${ch}" />
							<label text="labels.makeup" />
							<knob id="omk${ch}" size="20" scale_color="${chc}" />
							<value id="omk${ch}" />
						</grid>
						<vsep />
						<grid rows="9" cols="9" transpose="true" expand="true" fill="true">
							<label text="labels.ranges" />
							<cell rows="2"><label text="labels.thresh_gain:db_db" /></cell>
							<cell rows="2"><label text="labels.knee_:db" /></cell>
							<cell rows="2"><label text="labels.attack:db_ms" /></cell>
							<cell rows="2"><label text="labels.release:db_ms" /></cell>
							
							<ui:for id="c" first="0" last="3">
								<ui:set id="i" value="${c}${ch}" />
								
								<cell cols="2"><label text="${chn}" text:id="${c}" /></cell>
								<knob id="tl${i}" size="20" scale_color="${chc}" />
								<value id="tl${i}" detailed="false" />
								<knob id="kn${i}" size="20" scale_color="${chc}" />
								<value id="kn${i}" detailed="false" />
								<knob id="al${i}" size="20" scale_color="magenta" />
								<value id="al${i}" detailed="false" />
								<knob id="rl${i}" size="20" scale_color="orange" />
								<value id="rl${i}" detailed="false" />
								
								<knob id="gl${i}" size="20" scale_color="${chc}" />
								<value id="gl${i}" detailed="false" />
								<cell rows="2" fill="false">
									<grid rows="3" cols="2" transpose="true" fill="false">
										<button id="pe${i}" led="true" size="12" color="${chc}" />
										<button id="ae${i}" led="true" size="12" color="magenta" />
										<button id="re${i}" led="true" size="12" color="orange" />
										
										<label text="labels.thr_eshold" font_size="9" detailed="false" />
										<label text="labels.att_ack" font_size="9" detailed="false" />
										<label text="labels.rel_ease" font_size="9" detailed="false" />
									</grid>
								</cell>
								<knob id="at${i}" size="20" scale_color="magenta" />
								<value id="at${i}" detailed="false" />
								<knob id="rt${i}" size="20" scale_color="orange" />
								<value id="rt${i}" detailed="false" />
							</ui:for>
						</grid>
						<vsep />
						<grid rows="9" cols="1" fill="true">
							<label text="labels.ratio_high" />
							<knob id="hlr${ch}" size="20" scale_color="${chc}" />
							<value id="hlr${ch}" />
							<label text="labels.release" />
							<knob id="rtd${ch}" size="20" scale_color="orange" />
							<value id="rtd${ch}" />
							<cell rows="3" expand="true">
								<grid rows="3" cols="2" expand="true">
									<label text="labels.signal.dry" />
									<label text="labels.signal.wet" />
									
									<knob id="cdr${ch}" scale_color="yellow" size="20" />
									<knob id="cwt${ch}" scale_color="yellow" size="20" />
									
									<value id="cdr${ch}" />
									<value id="cwt${ch}" />
								</grid>
							</cell>
						</grid>
					</hbox>
				</ui:for>
			</cgroup>
			
			<!-- Signal control -->
			<group text="groups.signal">
				<grid rows="6" cols="1" transpose="true">
					<label text="labels.input" />
					<knob id="g_in" />
					<value id="g_in" />
												
					<label text="labels.output" />
					<knob id="g_out" />
					<value id="g_out" />
				</grid>
			</group>
		</hbox>
	</vbox>
</plugin>